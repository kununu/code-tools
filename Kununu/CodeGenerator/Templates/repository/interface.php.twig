<?php
{% if templates.hasTemplate('read-model') %}
{% set readModel = templates.getTemplateByType('read-model') %}
{% endif %}
declare(strict_types=1);

namespace {{ full_namespace }};

{% if method == 'GET' %}
use {{ readModel.fqcn }};
{% if parameters is defined and parameters|length > 0 and parameters|filter(p => p.in == 'path')|length > 0 %}
use Kununu\Utilities\DTO\Uuid\Uuid;
{% endif %}
{% if parameters is defined and parameters|length > 0 and parameters|filter(p => p.in == 'query')|length > 0 %}
{% if templates.hasTemplate('criteria') %}
{% set criteria = templates.getTemplateByType('criteria') %}
use {{ criteria.fqcn }};
{% endif %}
{% endif %}
{% endif %}

interface {{ classname }}
{
{% if method == 'GET' %}
{% if parameters|filter(p => p.in == 'path')|length > 0 and parameters|filter(p => p.in == 'query')|length > 0 %}
    public function get{{ entity_name }}By{{ parameters|filter(p => p.in == 'path')|first.name|properCapitalize }}WithCriteria(
        Uuid ${{ parameters|filter(p => p.in == 'path')|first.name }},
        Criteria $criteria
    ): {{ readModel.classname }};
{% endif %}
{% else %}

    public function findByUuid(string $uuid): ?object;
{% endif %}
}
