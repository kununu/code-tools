<?php
declare(strict_types=1);

namespace {{ full_namespace }};

{% if parameters is defined and parameters|length > 0 and parameters|filter(p => p.in == 'query')|length > 0 %}
{% if templates.hasTemplate('criteria') %}
{% set criteria = templates.getTemplateByType('criteria') %}
use {{ criteria.fqcn }};
{% endif %}
{% endif %}
use Kununu\CQRS\Query\Query as CQRSQuery;
{% if parameters is defined and parameters|length > 0 and parameters|filter(p => p.in == 'path')|length > 0 %}
use Kununu\Utilities\DTO\Uuid\Uuid;
{% endif %}

final readonly class {{ classname }} implements CQRSQuery
{
    public function __construct(
{% if parameters is defined and parameters|length > 0 %}
{% for param in parameters %}
{% if param.in == 'path' %}
        public Uuid ${{ param.name }},
{% endif %}
{% endfor %}
{% if parameters|filter(p => p.in == 'query')|length > 0 %}
        public Criteria $criteria
{% endif %}
{% endif %}
    ) {
    }
}